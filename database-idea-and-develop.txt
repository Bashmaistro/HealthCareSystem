CREATE DATABASE medify
USE medify
-- User Management
CREATE TABLE Users (
    uid INT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL,
    Surname VARCHAR(50) NOT NULL,
    Password VARCHAR(50) NOT NULL,
    Role ENUM('none','patient', 'doctor', 'admin') NOT NULL
);

-- Patient Management
CREATE TABLE Patients (
    pid INT PRIMARY KEY,
    uid INT,
    Name VARCHAR(50) NOT NULL,
    Surname VARCHAR(50) NOT NULL,
    DateOfBirth DATE NOT NULL,
    Gender ENUM('Male', 'Female', 'Other') NOT NULL,
    ContactNumber VARCHAR(15) NOT NULL,
    Address VARCHAR(255) NOT NULL,
    FOREIGN KEY (uid) REFERENCES Users(uid)
);

CREATE TABLE HealthRecords (
    RecordID INT PRIMARY KEY,
    pid INT,
    RecordDate DATE NOT NULL,
    Prescription VARCHAR(255),
    did INT,
    FOREIGN KEY (pid) REFERENCES Patients(pid),
    FOREIGN KEY (did) REFERENCES Doctors(did)
);

-- Doctor Management
CREATE TABLE Doctors (
    did INT PRIMARY KEY,
    uid INT,
    Name VARCHAR(50) NOT NULL,
    Surname VARCHAR(50) NOT NULL,
    Degree ENUM('Prof.Dr','Op.Dr.','Exp.Dr.','Fzt.','Dr.','Ast.Dr.')
    Specialty VARCHAR(100) NOT NULL,
    ContactNumber VARCHAR(15) NOT NULL,
    Address VARCHAR(255) NOT NULL,
    FOREIGN KEY (uid) REFERENCES Users(uid)
);

-- Appointment Management
CREATE TABLE Appointments (
    aid INT PRIMARY KEY,
    did INT,
    pid INT,
    AppointmentDate DATETIME NOT NULL,
    Status ENUM('scheduled', 'cancelled') DEFAULT 'scheduled',
    FOREIGN KEY (did) REFERENCES Doctors(did),
    FOREIGN KEY (pid) REFERENCES Patients(pid)
);

